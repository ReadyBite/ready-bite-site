<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ready Bite</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f5f5f5; color: #333; }
        .meal-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
        .meal { border: 1px solid #ccc; padding: 10px; width: 200px; background-color: #fff; }
        .meal img { width: 150px; height: 150px; object-fit: cover; border-radius: 10px; }
        .cart { margin-top: 20px; background-color: #333; color: white; padding: 15px; border-radius: 5px; }
        .hidden { display: none; }
        .feedback-section { margin-top: 50px; padding: 20px; background-color: #e8e8e8; text-align: left; max-width: 800px; margin-left: auto; margin-right: auto; }

        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; background-color: rgba(0,0,0,0.6);
            justify-content: center; align-items: center; z-index: 1000;
        }

        .modal-box {
            background-color: white; padding: 20px; border-radius: 8px;
            width: 300px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .modal-box input {
            width: 100%; padding: 8px; margin-bottom: 10px;
        }

        .modal-box button {
            padding: 8px; margin-top: 10px; background-color: #28a745;
            color: white; border: none; cursor: pointer;
        }

        button { background-color: #555; color: white; border: none; padding: 10px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Ready Bite</h1>
    <nav>
        <a href="index.html">Home</a> | <a href="about.html">About Us</a> | <a href="how-it-works.html">How It Works</a>
    </nav>
    <div class="meal-container" id="mealContainer"></div>
    <div class="cart">
        <h2>Cart</h2>
        <ul id="cartList"></ul>
        <p>Total: $<span id="totalPrice">0.00</span></p>
        <button onclick="submitOrder()">Submit Order</button>
    </div>

    <div id="orderModal" class="modal-overlay">
        <div class="modal-box">
            <h3>Enter Your Information</h3>
            <input type="text" id="customerName" placeholder="Your Name">
            <input type="email" id="customerEmail" placeholder="Your Email">
            <input type="text" id="customerPhone" placeholder="Phone (000-000-0000)">
            <input type="text" id="customerAddress" placeholder="Full Address">
            <button onclick="confirmOrder()">Confirm Order</button>
            <button onclick="closeModal()" style="background-color:#555;">Cancel</button>
        </div>
    </div>

<script>
const meals = [
    { name: "Beef Spaghetti", price: 10, image: "spaghetti_adjusted_cropped_resized.png" },
    { name: "Asian Chicken and Rice w/ Veggie Mix", price: 10, image: "asian_chicken_adjusted_cropped_resized.png" },
    { name: "Bulgogi Beef and Rice w/ Veggie Mix", price: 10, image: "bulgogi_beef_adjusted_cropped_resized.png" },
    { name: "Beef Enchiladas", price: 10, image: "beef_enchiladas_adjusted_cropped_resized.png" },
    { name: "Chicken Enchiladas", price: 10, image: "chicken_enchiladas_adjusted_cropped_resized.png" },
    { name: "Chicken Alfredo", price: 10, image: "chicken_alfredo_adjusted_cropped_resized.png" },
    { name: "Smoked BBQ Chicken w/ Potatoes", price: 10, image: "smoked_chicken_adjusted_cropped_resized.png" },
    { name: "Chicken Fajita", price: 10, image: "chicken_fajita_adjusted_cropped_resized.png" },
    { name: "Smoked BBQ Chicken Bulk", price: 12, bulkOptions: [2, 4, 6, 8, 10] }
];

let cart = [];

function renderMeals() {
    const container = document.getElementById("mealContainer");
    container.innerHTML = "";
    meals.forEach((meal, index) => {
        container.innerHTML += `
            <div class="meal">
                <img src="${meal.image}" alt="${meal.name}">
                <h3>${meal.name}</h3>
                <p>$${meal.price.toFixed(2)}</p>
                <input type="number" id="meal-${index}" min="1" placeholder="Qty">
                <button onclick="addToCart(${index})">Add to Cart</button>
            </div>
        `;
    });
}

function addToCart(index) {
    const qtyInput = document.getElementById(`meal-${index}`);
    const qty = parseInt(qtyInput.value);
    if (!qty || qty <= 0) return;

    const meal = meals[index];
    const existing = cart.find(m => m.name === meal.name);

    if (existing) existingItem.quantity += qty;
    else cart.push({name: meal.name, price: meal.price, quantity: qty});

    qtyInput.value = '';
    updateCart();
}

function updateCart() {
    const cartList = document.getElementById("cartList");
    cartList.innerHTML = "";
    let total = 0;
    cart.forEach(item => {
        total += item.price * item.quantity;
        cartList.innerHTML += `<li>${item.quantity}x ${item.name} - $${(item.price * item.quantity).toFixed(2)}</li>`;
    });
    document.getElementById("totalPrice").innerText = total.toFixed(2);
}

// existing submitOrder, confirmOrder, and closeModal as fully defined previously
submitOrder();

renderMeals();
</script>

</body>
</html>
